<% provide(:title, 'All projects') %>
<p id="notice"><%= notice %></p>

<h1>Listing Projects</h1>

<h4><%= link_to 'New Project', new_project_path %></h4>
<br>

<%= form_tag projects_path, :method => 'get' do %>
  <p>
    <%= text_field_tag :search, params[:search] %>
    <%= submit_tag "Search", :title => nil %>
  </p>
<% end %>

<%= will_paginate @products %>

<table class="pretty">
  <tr>
    <!-- sortable is a function that gives a togglable link for sorting or sorting in reverse -->
    <!-- It can be found in helpers -->
    <th><%= table_sort "title" %></th>
    <th><%= table_sort "short_description" %></th>
    <th><%= table_sort "long_description" %></th>
    <!-- <th colspan="3"></th>  --> 
  </tr>

  <% @projects.each do |project| %>
    <tr>
      <td><%= project.title %></td>
      <td><%= project.short_description %></td>
      <td><%= project.long_description %></td>
      <td><%= link_to 'Show', project %></td>
      <td><%= link_to 'Edit', edit_project_path(project) %></td>
      <td><%= link_to 'Destroy', project, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    </tr>
  <% end %>
</table>


<%= will_paginate @products %>



